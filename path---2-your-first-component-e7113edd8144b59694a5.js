webpackJsonp([28404353185273],{"./node_modules/json-loader/index.js!./.cache/json/2-your-first-component.json":function(n,a){n.exports={data:{markdownRemark:{html:'<p>To learn about React components, we\'re going to build a fractal tree. One component repeated 2048 times.</p>\n<p><img src="/c16e2846bfff96d3f8ac3e0b5a192c41.gif"></p>\n<p>I\'ll build it with you from scratch. You can see a <a href="https://swizec.github.io/react-fractals/">working version on Github</a></p>\n<h1 id="two-flavors-of-components"><a href="#two-flavors-of-components" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Two flavors of components</h1>\n<p>React components come in two flavors:</p>\n<ul>\n<li>class components</li>\n<li>functional stateless</li>\n</ul>\n<p>A title component might look like this ðŸ‘‡</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Title</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n\t<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Title</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Hello world<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>Class components get all of React\'s features:</p>\n<ul>\n<li>they have props</li>\n<li>there\'s state</li>\n<li>lifecycle hooks work</li>\n</ul>\n<p>But writing all of that gets tedious, if all you want is to render a few elements. So you can use functional stateless components instead ðŸ‘‡</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">const</span> Title <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Title</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Hello world<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>Same result, a lot less typing.</p>\n<p>Stateless components keep props, but lose state and lifecycle hooks. In return they have smaller overhead and are quicker to write.</p>\n<h2 id="component-children"><a href="#component-children" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Component children</h2>\n<p>Using our <code>Title</code> component is kind of tedious. We can make it better with React\'s magic <code>children</code> prop.</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">const</span> Title <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Title</span><span class="token punctuation">></span></span>Hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Title</span><span class="token punctuation">></span></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>We\'re still saying <code>Title</code> twice, but this way feels more natural. </p>\n<p>Component children are passed into every component as props. You can do with them as you please.</p>\n<p>Components behave just like custom HTML elements. You can nest them, you can pass them around, you can do whatever you want.</p>\n<h2 id="practical-exercise"><a href="#practical-exercise" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Practical exercise</h2>\n<p>Go into the project you created with <code>create-react-app</code> in the last section and move header stuff into a new component. Replace the body with a new <code>&#x3C;DancingTree></code> component that renders a 1028x600 <code>&#x3C;svg></code>.</p>\n<h1 id="state-props-and-unidirectional-data-flow"><a href="#state-props-and-unidirectional-data-flow" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>State, Props, and Unidirectional data flow</h1>\n<p>When you\'re building apps with React, you want to make sure information always flows in one direction. You should always have a single source of truth, which sends information down to components via props, and accepts updates through callbacks or global actions.</p>\n<p>More on that later.</p>\n<p>For now just keep in mind that your component should always be able to render itself from props. Avoid relying on state whenever possible.</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/f83af28dbd4b915220104b0858cf9bc4-4ed54.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 640px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 67.65625%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/ElEQVQ4y53T7UtTURwHcP+m3hXYm+p173oVPiA9EEm9CRNdpYsKt4k5iwwp0BAc9KJGiy2lZGNZeN0K1DYxvTp3cel1c7t39+Gc8+3cIzhka9MOfOFy7rmfc+79/W4TGgxqGDDSaeg/krBVtdFyNNW76QB/nj+D3N4Kua0FWVcPNEn6fzAffI/Nmzcgd7Rj40oH1lsuI+cfBrPtk4GEMuQZoExMInOrk5+sF4q7X+CKZwC6WoBJjwnahMGyGbgHPZlA9p5LvK445fWr2AtMHW5qEdYYdDDKKgvLS4vYeTmKbZ8XxS+fQU3zoFgcNC2+MWP1QdMBKWtYTQdy1uY1Whvc0lT4UxF0LQQQ2kqiaJX/iRFCkVkrIDSVxodAGusre0fBvKnhUtSPM+E+kVOhXoz/jkKzjZrg6vIuhlxx+O7G4OUZ6Z8Tc4dgMLOAc9OPBdoaH0VzxI1r314hVVCqMK1kYTa0JqDxpwm8HpQw0jeH4OSvCjijLOLCzBOc57k4O4jT4Qe4Pf8Gq8XtKtAo24hPyxi4E8WLR99Fhu9/RfjtSgWkjArg7Ce3wJojD/Ex81O0Rq2R3djHmFeCpysKX3cMY5557Ob0o0UhHI3lUni3KUEu7UAtEZTNatDpU4NXt1S0sJzIYYlH55/hWL+e6DX+sGEdxLkmpH5L/QVd0wPYUDaytQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="unidirectional"\n        title=""\n        src="/static/f83af28dbd4b915220104b0858cf9bc4-cc6ef.png"\n        srcset="/static/f83af28dbd4b915220104b0858cf9bc4-54920.png 240w,\n/static/f83af28dbd4b915220104b0858cf9bc4-53bf0.png 480w,\n/static/f83af28dbd4b915220104b0858cf9bc4-cc6ef.png 960w,\n/static/f83af28dbd4b915220104b0858cf9bc4-4ed54.png 1280w"\n        sizes="(max-width: 640px) 100vw, 640px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>When you <em>do</em> need state, you should drive it through React\'s built-in state management (or Redux/MobX, but that\'s next week).</p>\n<blockquote>\n<p>You can think of state as props that change over time. </p>\n</blockquote>\n<p>You drive the change through calling <code>this.setState</code> on your class-based component.</p>\n<p>Like this ðŸ‘‡</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\theightFactor<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token number">8</span><span class="token punctuation">,</span>\n\tlean<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token number">2</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>Calling <code>setState</code> updates the component\'s <code>this.state</code> object and triggers a re-render. Yes, you re-render on every state change. That\'s the beauty of React.</p>\n<h2 id="practical-exercise--props"><a href="#practical-exercise--props" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Practical exercise â€“ props</h2>\n<p>Let\'s build  a <code>Pythagoras</code> component that renders an SVG rectangle. That\'s a <code>&#x3C;rect></code>, by the way. </p>\n<p>Your <code>Pythagoras</code> component should accept a <code>width</code>, a <code>height</code>, and an <code>x</code>, <code>y</code> position and render an appropriate rectangle.</p>\n<p>...</p>\n<p>Did you get it? Now let\'s make it recursive.</p>\n<p>Change your <code>Pythagoras</code> component so it renders both a rectangle and two more Pythagoras components. One to the <code>left</code> and one to the <code>right</code>. Make sure you add a <code>maxlvl</code> prop and keep track so you don\'t render infinitely many rectangles.</p>\n<p>Don\'t forget to make child rectangles smaller :)</p>\n<p>I suggest copying this trig calculation</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">const</span> memoizedCalc <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> memo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> w<span class="token punctuation">,</span> heightFactor<span class="token punctuation">,</span> lean <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">[</span>w<span class="token punctuation">,</span>heightFactor<span class="token punctuation">,</span> lean<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">\'-\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> memoKey <span class="token operator">=</span> <span class="token function">key</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>memo<span class="token punctuation">[</span>memoKey<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> memo<span class="token punctuation">[</span>memoKey<span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>\n            <span class="token keyword">const</span> <span class="token punctuation">{</span> w<span class="token punctuation">,</span> heightFactor<span class="token punctuation">,</span> lean <span class="token punctuation">}</span> <span class="token operator">=</span> args<span class="token punctuation">;</span>\n\n            <span class="token keyword">const</span> trigH <span class="token operator">=</span> heightFactor<span class="token operator">*</span>w<span class="token punctuation">;</span>\n\n            <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>\n                nextRight<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>trigH<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>w <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token operator">+</span>lean<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                nextLeft<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>trigH<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>w <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token operator">-</span>lean<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                A<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">deg</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">atan</span><span class="token punctuation">(</span>trigH <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token operator">-</span>lean<span class="token punctuation">)</span> <span class="token operator">*</span> w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                B<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">deg</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">atan</span><span class="token punctuation">(</span>trigH <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token operator">+</span>lean<span class="token punctuation">)</span> <span class="token operator">*</span> w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n            <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n            memo<span class="token punctuation">[</span>memoKey<span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>\n            <span class="token keyword">return</span> result<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>And applying it to your component like this</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">const</span> Pythagoras <span class="token operator">...</span>\n\t\t<span class="token keyword">const</span> <span class="token punctuation">{</span> nextRight<span class="token punctuation">,</span> nextLeft<span class="token punctuation">,</span> A<span class="token punctuation">,</span> B <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">memoizedCalc</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        w<span class="token punctuation">:</span> w<span class="token punctuation">,</span>\n        heightFactor<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">,</span>\n        lean<span class="token punctuation">:</span> <span class="token number">0</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    \n    <span class="token keyword">if</span> <span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        rotate <span class="token operator">=</span> <span class="token template-string"><span class="token string">`rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">-</span>A<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 0 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>w<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)`</span></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        rotate <span class="token operator">=</span> <span class="token template-string"><span class="token string">`rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>B<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>w<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>w<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)`</span></span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">transform</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rotate<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n</code></pre>\n      </div>\n<p><code>&#x3C;g></code> is a grouping element in SVG, but that\'s not the point of this exercise. Think of it as a <code>&#x3C;div></code> in HTML.</p>\n<h2 id="practical-exercise--state"><a href="#practical-exercise--state" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Practical exercise â€“ state</h2>\n<p>You should see a fractal tree of about 2048 black nodes.</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2d11a722b030c8f25a858d7b5a88f1f5-74c04.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 386px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 75.12953367875647%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACDUlEQVQ4y92TO2uiQRSGVWxt/A1W/gWxkoCCWFmICFpEAoqCF7wl2CQGUbyTRq1ULGxEMFholBTxByjRQgIiiIiFJqIWXt4wZ/niLuwuu7DVvjDMfOebeebchod/LN7PjLvdDvP5HO/v75hOp9hsNtjv97Rer9eYzWb074+ADFQsFuF0OuF2uxEIBBAMBpHL5XB9fQ2LxYJQKAS/34/X19ffA1erFcHy+TwuLy9xPB7hcDhwd3cHrVZLNuYtAz4+PtJFb29vtO8H4Ol0wvPzM23QaDQ0KxQKmqVSKYxGI0wmEy4uLuD1eiGRSBCLxaBWq2Gz2VCpVLDdbs/AXq+HeDxOnrFxOBxQq9VgNpsRiUSwWCwwmUzQ7XYJzkJnGg6HsNvteHh4QLPZPAPZx/39PVwuF+RyOcbjMdrtNng8Htk5DQYDsjHIcrmEz+ejVITDYSQSiTOwXC5T0l9eXgjADul0OtTrdZpZhZmSySTlL5vNQiAQUGEYjBXH4/HQJTwWXjQaxe3tLVQqFW5ubqDX6yk0sVhMcOZ5p9OBUCgEn8+nfCqVSoKxiJinLDWj0eibh61WC+l0+sttLjyRSERAmUxGBWJrNjKZzNe+fr8Pq9WKQqFA1Sbgx8cHnp6ekEqlqC04VatVGAwGKgprZJaWq6sr6gpOjUYDpVKJ2ueXL+V7cV5yg6vmXz29/xv4CYgDtIvJCYA3AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="black fractals"\n        title=""\n        src="/static/2d11a722b030c8f25a858d7b5a88f1f5-74c04.png"\n        srcset="/static/2d11a722b030c8f25a858d7b5a88f1f5-87225.png 240w,\n/static/2d11a722b030c8f25a858d7b5a88f1f5-74c04.png 386w"\n        sizes="(max-width: 386px) 100vw, 386px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Now try changing your tree so it reads <code>heightFactor</code> and <code>lean</code> from state. Where do you think they should live?</p>\n<p>Remember, you want a single source of truth.</p>\n<p>To make it extra fun, tie that state to mouse movement. That way you can make the tree dance with your mouse.</p>\n<p>Since mouse events are tricky on SVG, I suggest using D3. It performs some transformations for you so you don\'t have to think about what\'s going on.</p>\n<p>I suggest something like this:</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> select <span class="token keyword">as</span> d3select<span class="token punctuation">,</span> mouse <span class="token keyword">as</span> d3mouse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'d3-selection\'</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// ...</span>\n<span class="token function">d3select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>svg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onMouseMove<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment" spellcheck="true">// ...</span>\n<span class="token function">onMouseMove</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>running<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>running <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">const</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">d3mouse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>svg<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<p>Hint: use <code>componentDidMount</code> to attach that mouse listener. I\'ll explain what it is next.</p>\n<h1 id="lifecycle-hooks"><a href="#lifecycle-hooks" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lifecycle hooks</h1>\n<p>One of my favorite features of React\'s class-based components are their lifecycle hooks. You can think of them as callbacks for key events in a components lifecycle.</p>\n<p>Is that a bad pun? ðŸ˜‡</p>\n<h2 id="creating-a-component"><a href="#creating-a-component" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating a component</h2>\n<ul>\n<li>constructor()</li>\n<li>componentWillMount()</li>\n<li>render()</li>\n<li>componentDidMount()</li>\n</ul>\n<h2 id="updating-a-component"><a href="#updating-a-component" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updating a component</h2>\n<ul>\n<li>componentWillReceiveProps()</li>\n<li>shouldComponentUpdate()</li>\n<li>componentWillUpdate()</li>\n<li>render()</li>\n<li>componentDidUpdate()</li>\n</ul>\n<h2 id="removing-a-component"><a href="#removing-a-component" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removing a component</h2>\n<ul>\n<li>componentWillUnmount()</li>\n</ul>\n<p>The best way to explain these is through a diagram and lots of hand waving.</p>\n<p>If you get video of my explanation, we can try to insert it here for posterity. Make a PR!</p>\n<h1 id="component-styling"><a href="#component-styling" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Component styling</h1>\n<p>It\'s time to make our dancing tree beautiful. We have a couple of options ðŸ‘‡</p>\n<ol>\n<li><strong>CSS</strong>, React components are just HTML, you can use CSS the same way you always have</li>\n<li><strong>style prop</strong>, great for one-off style definitions</li>\n<li><strong>CSS modules</strong>, use CSS files, apply classes with the <code>styleName</code> prop</li>\n<li><strong>styled components</strong>, create styled versions of common components</li>\n</ol>\n<p>Let\'s try all four and see which one you like best.</p>\n<h2 id="css"><a href="#css" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CSS</h2>\n<div class="gatsby-highlight">\n      <pre class="language-css"><code><span class="token selector">rect</span> <span class="token punctuation">{</span>\n\t<span class="token property">fill</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<h2 id="style-prop"><a href="#style-prop" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>style prop</h2>\n<div class="gatsby-highlight">\n      <pre class="language-css"><code><span class="token selector">import</span> <span class="token punctuation">{</span> interpolateViridis <span class="token punctuation">}</span> from <span class="token string">\'d3-scale\'</span><span class="token selector">;\n&lt;rect style=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token property">fill</span><span class="token punctuation">:</span> <span class="token function">interpolateViridis</span><span class="token punctuation">(</span>lvl/maxlvl<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span> />\n</code></pre>\n      </div>\n<p>ðŸ‘† great for giving each rectangle a different color</p>\n<h2 id="css-modules"><a href="#css-modules" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CSS modules</h2>\n<div class="gatsby-highlight">\n      <pre class="language-css"><code><span class="token selector">.rect</span> <span class="token punctuation">{</span>\n\t<span class="token property">fill</span><span class="token punctuation">:</span> #ffb6c1 \n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">import</span> CSSModules <span class="token keyword">from</span> <span class="token string">\'react-css-modules\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">\'./index.css\'</span><span class="token punctuation">;</span>\n\n<span class="token operator">&lt;</span>rect styleName<span class="token operator">=</span><span class="token string">"rect"</span>\n</code></pre>\n      </div>\n<h2 id="styled-components"><a href="#styled-components" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Styled components</h2>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">\'styled-components\'</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> Rect <span class="token operator">=</span> styled<span class="token punctuation">.</span>rect<span class="token template-string"><span class="token string">`\n\tfill: lightseagreen;\n`</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rect</span> <span class="token attr-name">...</span> <span class="token punctuation">/></span></span>\n</code></pre>\n      </div>\n<p>As far as I can tell there is no consensus about which is best. They all come with a different set of tradeoffs.</p>',
timeToRead:6,tableOfContents:'<ul>\n<li>\n<p><a href="#two-flavors-of-components">Two flavors of components</a></p>\n<ul>\n<li><a href="#component-children">Component children</a></li>\n<li><a href="#practical-exercise">Practical exercise</a></li>\n</ul>\n</li>\n<li>\n<p><a href="#state-props-and-unidirectional-data-flow">State, Props, and Unidirectional data flow</a></p>\n<ul>\n<li><a href="#practical-exercise--props">Practical exercise â€“ props</a></li>\n<li><a href="#practical-exercise--state">Practical exercise â€“ state</a></li>\n</ul>\n</li>\n<li>\n<p><a href="#lifecycle-hooks">Lifecycle hooks</a></p>\n<ul>\n<li><a href="#creating-a-component">Creating a component</a></li>\n<li><a href="#updating-a-component">Updating a component</a></li>\n<li><a href="#removing-a-component">Removing a component</a></li>\n</ul>\n</li>\n<li>\n<p><a href="#component-styling">Component styling</a></p>\n<ul>\n<li><a href="#css">CSS</a></li>\n<li><a href="#style-prop">style prop</a></li>\n<li><a href="#css-modules">CSS modules</a></li>\n<li><a href="#styled-components">Styled components</a></li>\n</ul>\n</li>\n</ul>',frontmatter:{title:"Your First Component"}}},pathContext:{slug:"/2-your-first-component/"}}}});
//# sourceMappingURL=path---2-your-first-component-e7113edd8144b59694a5.js.map